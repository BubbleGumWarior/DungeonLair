<div *ngIf="!isOpen" class="fixed bottom-20 left-4 mb-0 z-[10000]">
    <button
      class="magic-button roll-button p-3 w-12 h-12 rounded-full transition-all duration-300"
      (click)="toggleRoll()"
    >
        <i class="fa fa-dice text-xl" aria-hidden="false"></i>
    </button>
</div>
  
<div *ngIf="isOpen" [ngClass]="{'w-1/3': !isMobile, 'w-3/4': isMobile}" class="roll-modal fixed bottom-4 left-20 magic-panel shadow-2xl rounded-2xl border-magic max-h-[85vh] min-h-[300px] flex flex-col">
    <div class="container mx-auto my-auto p-6 flex-1 min-h-0 grid grid-cols-2 gap-6">
        <!-- Left Column: Dice Roll -->
        <div>
            <h2 class="text-center text-2xl mb-6 magic-text font-bold">Do a Custom Roll</h2>
            <form (ngSubmit)="rollDice()" class="max-w-md mx-auto space-y-4">
                <div class="text-center">
                  <label for="diceSizeText" class="block mb-3 magic-text-secondary font-semibold">Enter the size of the dice you want to roll</label>
                  <input 
                    type="number" 
                    id="diceSizeText" 
                    [(ngModel)]="diceSizeText" 
                    name="diceSizeText" 
                    required 
                    class="magic-input rounded-lg w-full py-3 px-4 text-center placeholder-magic-placeholder"
                    autocomplete="off"
                    min="1"
                    value="20"
                  />
                </div>
                <div class="text-center">
                  <label for="modifierValueText" class="block mb-3 magic-text-secondary font-semibold">Enter the size of the modifier for the dice</label>
                  <input 
                    type="number" 
                    id="modifierValueText" 
                    [(ngModel)]="modifierValueText" 
                    name="modifierValueText" 
                    required 
                    class="magic-input rounded-lg w-full py-3 px-4 text-center placeholder-magic-placeholder"
                    autocomplete="off"
                    value="0"
                  />
                </div>
                <button type="submit" class="magic-button-primary rounded-lg py-3 px-6 w-full font-semibold transition-all duration-300">Roll the Custom Dice</button>
            </form>
        </div>

        <!-- Right Column: Coin Flip -->
        <div>
            <h2 class="text-center text-2xl mb-6 magic-text font-bold">Click on the Coin to make it flip!</h2>
            <div class="flex justify-center items-center h-full">
                <div id="coin" (click)="flipCoin()">
                    <div class="side-a">
                      <i class="fa-brands fa-grunt magic-coin-icon"></i>
                    </div>
                    <div class="side-b">
                      <i class="fa-regular fa-moon magic-coin-icon"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
